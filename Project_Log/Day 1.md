# 📝 깐부치킨 개발 일지 - Day 1

2025-12-05 | 🏷️ Tags: #Project #Unity #GganbuChicken

---

## 1. ✅ 오늘 한 일 (Done)

_구체적인 작업 내용과 관련 커밋 링크가 있다면 함께 적어주세요._

- [GameDesign]
    
    - **게임 코어 콘셉트 정리**
        
        - 낮에는 뱀파이어서바이벌 스타일로 닭을 자동으로 잡고
            
        - 밤에는 잡은 닭으로 치킨을 튀겨 파는 루프 구조 확정
            
    - 낮/밤/상점으로 이어지는 **하루 루프(코어 루프)** 기획 정리
        
    - 옵시디언용 **게임 기획서 Markdown 템플릿** 작성
        
- [TechDesign]
    
    - 깐부치킨용 **프로그래밍 개발 기획서(TDD)** 구조 설계
        
        - `GameManager`를 중심으로 한 `GameState (Day/Night/Shop)` 상태 머신 구상
            
        - `ChickenSpawner`, `Chicken`, `PlayerController`, `WeaponSystem` 등 주요 컴포넌트 역할 정의
            
        - 무기/카드/버프를 **ScriptableObject 기반 데이터 드리븐 구조**로 관리하는 방향 설정
            
- [Unity Prototype 설계]
    
    - 2D 탑다운 기준으로
        
        - 플레이어 이동, 닭 추적 AI, 닭 스폰 로직 초안 설계
            
        - `GameManager` / `PlayerController` / `Chicken` / `ChickenSpawner` 기본 코드 골격 구상
            
    - 낮/밤 전환을 **시간 타이머가 아니라 플레이어 입력(버튼)**으로 제어하기로 방향 전환
        
    - 밤 종료 후 **무작위 카드 5장 제공 → 골드 소모로 강화**하는 시스템 큰 흐름 정리
        
        - 카드 타입: 무기 카드 / 버프 카드
            
        - 리롤 버튼, 카드 잠금 기능 아이디어 정리
            

---

## 2. 🧠 오늘 배운 점 (Today I Learned)

_새롭게 알게 된 기술적 사실, 개념, 꿀팁을 기록합니다._

- **상태 머신 기반 게임 루프 설계의 중요성**
    
    - `GameManager` 한 곳에서 `Day / Night / Shop` 상태를 관리하면
        
        - 스폰, 공격, UI, 상점 로직 등을 “상태 조건”으로 깔끔하게 제어할 수 있음.
            
    - 초반에는 타이머 기반 자동 전환보다, **키 입력으로 상태를 강제로 바꾸며 디버깅하는 방식**이 훨씬 개발·테스트가 편하다는 걸 다시 느낌.
        
- **데이터 드리븐 설계(ScriptableObject)의 장점**
    
    - 무기, 카드, 버프를 ScriptableObject로 분리해두면
        
        - 코드 수정 없이 **데이터만 추가/조정**해도 새로운 콘텐츠를 넣을 수 있음.
            
    - 특히 뱀서류 게임처럼 “무기/버프 수가 계속 늘어나는 구조”일수록
        
        - ScriptableObject + 카드/상점 시스템 조합이 유지보수에 유리.
            
- **자동 공격(투사체) 시스템의 기본 구조 이해**
    
    - 플레이어 입력 없이,
        
        - 일정 쿨타임마다 주변 적을 탐색 → 가장 가까운 적을 타겟  
            → 투사체 프리팹을 발사 → 적 컴포넌트에서 데미지 처리
            
    - 이런 구조를 한 번 잡아두면,
        
        - “발사 개수, 속도, 데미지, 범위”만 카드/상점에서 건드려도
            
        - 체감 플레이가 확 달라진다는 점을 다시 확인.
            

---

## 3. 🚨 트러블 슈팅 (Troubleshooting)

_가장 중요한 섹션입니다. 에러 로그와 해결 과정을 상세히 적습니다._

### 🚧 문제 상황 (Issue)

- 낮/밤 전환을 **타이머 기반으로 자동 종료** 시키는 구조로 처음 설계했는데,
    
    - 아직 전투/조리/상점 모두 미완성 상태라
        
    - 개발/디버깅 단계에서 “원하는 타이밍에 상태를 바꾸기”가 불편할 것 같았음.
        
- 또한 `DayManager`에 타이머를 두고, `GameManager`에서도 상태를 제어하려다 보니
    
    - **상태 전환 책임이 분산**되어 구조가 꼬일 위험이 있었음.
        

### 🔍 원인 분석 (Cause)

- 초반 프로토타입 단계에서 **자동 루프(타이머 기반)**를 먼저 넣으면
    
    - 디버깅/테스트할 때 매번 시간을 기다려야 해서 불편.
        
    - 상태 전환이 여러 스크립트에 흩어져 있으면
        
        - 나중에 “밤 → 상점 → 다시 낮” 같은 복합 흐름이 들어갈 때 유지보수가 어려워짐.
            

### 🛠️ 해결 방법 (Solution)

- `DayManager` 타이머 방식은 일단 보류하고,  
    **`GameManager` 한 곳에서만 상태 전환을 제어**하는 구조로 단순화:
    
    - 개발 중에는 F1/F2/F3 같은 **개발용 키 입력**으로
        
        - `StartDay()`, `StartNight()`, `StartShop()`을 직접 호출하는 방식으로 가기로 결정.
            
- 밤이 끝났을 때는
    
    - 나중에 `NightManager` 또는 `FryManager` 쪽에서  
        `GameManager.Instance.OnNightFinished();` 한 줄만 호출하면  
        → 자동으로 `Shop` 상태 + 카드 5장 제공 흐름으로 연결되도록 설계할 예정.
        
- 결론:
    
    - **지금은 “상태 구조를 명확히 만드는 것”에 집중**,
        
    - 자동 타이머/난이도 커브는 나중에 안정화되면 붙이는 방향으로 정리.
        

### 📚 참고 자료 (References)

- 직접 설계/경험 기반 정리라, 별도 외부 문서는 없음.  
    (향후 상태 머신/ScriptableObject 패턴 관련 자료를 본다면 여기에 링크 추가 예정)
    

---

## 4. 📅 내일 할 일 (To-Do)

- [Unity] 오늘 설계한 내용을 실제 코드로 옮기기 (기본 프로토타입)
    
    - `GameManager`, `PlayerController`, `Chicken`, `ChickenSpawner`를 유니티 프로젝트에 실제 스크립트로 생성 및 연결
        
    - 플레이어 이동 + 닭 추적 + 닭 처치 시 `rawChickenCount` 증가까지 동작 확인
        
- [Combat] 자동 투사체 시스템 1차 구현
    
    - `Projectile` 프리팹 + `Projectile` 스크립트 작성
        
    - `WeaponData` / `WeaponSystem`으로
        
        - “가장 가까운 닭에게 자동 공격” 구조 만들기
            
- [Night/Shop] 밤 이후 카드 시스템 준비
    
    - 밤이 끝나는 시점에 `OnNightFinished()` 호출 → Shop 상태로 넘어가도록 기본 흐름 연결
        
    - `CardData` / `CardShopManager` 골격만 먼저 만들어두고
        
        - 무작위 카드 5장 뽑기 로직부터 구현 (UI 없이 로그로 확인)